app.controller("meetings",["$scope","memory","categories","group","map","$location",function(e,n,o,t,i,r){e.isAdding=!1,e.title="Meetings",e.newMeetingName="",e.locationTypes=o,e.meetings=[];for(var a in n.groups)e.meetings.push({id:a,name:n.groups[a].name,creator:n.groups[a].creator});e.name=n.name;var g=function(e){alert(e)};e.toggleAddPage=function(){e.name=n.name,e.isAdding=!e.isAdding,p(),e.isAdding?e.title="New":e.title="Meetings"},e.hideAddPage=function(){e.isAdding=!e.isAdding,p(),e.title="Meetings"},e.genUrl=function(){if(!e.name)return g("We need your name to distinguish who's who in the group.");for(var n=0;n<o.length;n++)if(o[n].approved)return i.requestLocation(s);return g("You have not selected any categories.")};var s=function(){for(var a=[],g=0;g<o.length;g++){var s=o[g].approved?o[g].googleId.split(", "):[];a=a.concat(s)}for(var g=0;g<a.length;g++)a[g]=a[g].toLowerCase().replace(/ /g,"_");t.createGroup({name:n.name,lat:i.location.lat,lng:i.location.lng},e.newMeetingName,a,function(o){n.groups||(n.groups={}),n.groups[o]={name:e.newMeetingName||"Group "+o,creator:!0,votes:{}};for(var t=0;t<a.length;t++)n.groups[o].votes[a[t]]=!0;r.path("/group/"+o)})},p=function(){e.newMeetingName="",e.locationTypes=e.locationTypes.map(function(e){return e.approved=!1,e})}}]);