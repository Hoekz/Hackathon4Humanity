app.controller("meetings",["$scope","memory","categories","group","map","$location",function(e,n,o,t,a,r){e.isAdding=!1,e.title="Meetings",e.newMeetingName="",e.locationTypes=o,e.meetings=[];for(var i in n.groups)e.meetings.push({id:i,name:n.groups[i].name,creator:n.groups[i].creator,date:n.groups[i].date,members:n.groups[i].members});e.name=n.name;var g=function(e){alert(e)};e.toggleAddPage=function(){e.name=n.name||"",e.isAdding=!e.isAdding,u(),e.isAdding?e.title="New":e.title="Meetings"},e.hideAddPage=function(){e.isAdding=!e.isAdding,u(),e.title="Meetings"},e.toggleAboutPage=function(){document.querySelector("#about-overlay").classList.toggle("open")},e.genUrl=function(){if(!e.name)return g("We need your name to distinguish who's who in the group.");for(var n=0;n<o.length;n++)if(o[n].approved)return a.requestLocation(s);return g("You have not selected any categories.")};var s=function(){for(var i=[],g=0;g<o.length;g++){var s=o[g].approved?o[g].googleId.split(", "):[];i=i.concat(s)}for(var g=0;g<i.length;g++)i[g]=i[g].toLowerCase().replace(/ /g,"_");n.name||(n.name=e.name),t.createGroup({name:n.name,lat:a.location.lat,lng:a.location.lng},e.newMeetingName,i,function(o){n.groups||(n.groups={}),n.groups[o]={name:e.newMeetingName||"Group "+o,creator:!0,votes:{}};for(var t=0;t<i.length;t++)n.groups[o].votes[i[t]]=!0;r.path("/group/"+o)})},u=function(){e.newMeetingName="",e.locationTypes=e.locationTypes.map(function(e){return e.approved=!1,e})}}]);